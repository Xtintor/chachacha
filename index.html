<!doctype html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>TODO</title>
        <meta name="author" content="todo" />
        <meta name="description" content="todo" />
        <meta name="keywords" content="todo" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="stylesheet" href="http://phaser.io/css/phaser.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://phaser.io/css/prettify.css" type="text/css" />
        <link rel="stylesheet" href="http://phaser.io/css/octicons.css" type="text/css" />
        <!--[if lt IE 9]><link rel="stylesheet" href="http://phaser.io/css/wtf-ie.css" type="text/css" media="all" /><![endif]-->

        <link rel="pingback" href="ht.php" />
        <script type="text/javascript" src="lib/prettify.js"></script>
        <script type="text/javascript" src="lib/jquery-2.0.3.min.js"></script>
        <script type="text/javascript" src="lib/jquery.main.js"></script>
        <script src="//use.typekit.net/fmc0gtt.js"></script>
        <script>try{Typekit.load();}catch(e){}</script>
        <!--[if IE]><script type="text/javascript" src="http://phaser.io/js/ie.js"></script><![endif]-->
        <script type="text/javascript"  src="/lib/ace/ace.js"></script>
        <script type="text/javascript"  src="/lib/common.js"></script>
        <script type="text/javascript"  src="/lib/sublime.js"></script>

    </head>
    <body class="example-page">
        <div id="wrapper">
            <div class="container">

                
                    <header id="header" class="headerExample">
                    <strong class="logo"><a href="http://phaser.io">Home</a></strong>
                    <div class="toggle-slide">
                        <div class="holder">
                        <nav class="navigation">
                            <ul>
                                  <li><a href="http://phaser.io/news">News</a></li>

                                  <li><a href="http://phaser.io/learn">Learn</a></li>

                                  <li><a href="http://phaser.io/download">Download</a></li>

                            </ul>
                        </nav>
                    </div>
                    <div class="holder">
                        <nav class="navigation">
                            <ul>
                                  <li class="active"><a href="http://phaser.io/examples">Examples</a></li>

                                  <li><a href="http://phaser.io/community">Community</a></li>

                                  <li><a href="http://phaser.io/shop">Plugins</a></li>

                            </ul>
                        </nav>
                    </div>
                    </div>
                </header>

                
                <section id="phaser-example-area" class="featured-game">
                    <a name="gv"></a>
                    <div class="game-view"><iframe seamless="seamless" scrolling="no" id="demo" src="http://examples.phaser.io/embed.php?f=games/tanks.js" width="800" height="600" allowfullscreen="true"></iframe></div>

                    <div class="controllers">
<!--                         <div class="holder">
                            <ul class="buttons">
                                <li class="btn-pause" id="ide-pause"><a href="#gv"><img src="http://phaser.io/images/editors/btn-pause.png" alt="pause"></a></li>
                                <li class="btn-mute" id="ide-mute"><a href="#gv"><img src="http://phaser.io/images/editors/btn-mute.png" alt="mute"></a></li>
                                <li class="btn-reset" id="ide-reset"><a href="#gv"><img src="http://phaser.io/images/editors/btn-reset.png" alt="reset"></a></li>
                            </ul>
                        </div>
 -->                    </div>

                </section>

                
                
                <div id="main">

                    <div class="row">
                        <div class="col-sm-3">
                            <aside id="sidebar">
                    <nav class="sidenav catagories black">
                        <div class="head">
                            <a href="/examples" class="opener">Categories</a>
                        </div>
                        <ul>

                            <li>
                                <a href="/examples">
                                    <i class="icon icon1">&nbsp;</i>
                                    <div class="textbox">
                                        <span>All</span>
                                        <span class="counter">(<span class="number black">636</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/animation">
                                    <i class="icon icon2">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Animation</span>
                                        <span class="counter">(<span class="number black">18</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/arcade-physics">
                                    <i class="icon icon3">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Arcade Physics</span>
                                        <span class="counter">(<span class="number black">46</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/audio">
                                    <i class="icon icon9">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Audio</span>
                                        <span class="counter">(<span class="number black">12</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/basics">
                                    <i class="icon icon5">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Basics</span>
                                        <span class="counter">(<span class="number black">7</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/bitmapdata">
                                    <i class="icon icon7">&nbsp;</i>
                                    <div class="textbox">
                                        <span>BitmapData</span>
                                        <span class="counter">(<span class="number black">23</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/box2d">
                                    <i class="icon icon3">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Box2D</span>
                                        <span class="counter">(<span class="number black">40</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/buttons">
                                    <i class="icon icon11">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Buttons</span>
                                        <span class="counter">(<span class="number black">7</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/camera">
                                    <i class="icon icon2">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Camera</span>
                                        <span class="counter">(<span class="number black">9</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/create">
                                    <i class="icon icon9">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Create</span>
                                        <span class="counter">(<span class="number black">6</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/debug">
                                    <i class="icon icon5">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Debug</span>
                                        <span class="counter">(<span class="number black">6</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/demoscene">
                                    <i class="icon icon9">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Demoscene</span>
                                        <span class="counter">(<span class="number black">18</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/display">
                                    <i class="icon icon7">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Display</span>
                                        <span class="counter">(<span class="number black">27</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/filters">
                                    <i class="icon icon4">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Filters</span>
                                        <span class="counter">(<span class="number black">36</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li class="active">
                            
                                <a href="/examples/v2/category/games">
                                    <i class="icon icon13">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Games</span>
                                        <span class="counter">(<span class="number black">8</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/geometry">
                                    <i class="icon icon6">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Geometry</span>
                                        <span class="counter">(<span class="number black">20</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/groups">
                                    <i class="icon icon8">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Groups</span>
                                        <span class="counter">(<span class="number black">31</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/input">
                                    <i class="icon icon10">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Input</span>
                                        <span class="counter">(<span class="number black">45</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/loader">
                                    <i class="icon icon11">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Loader</span>
                                        <span class="counter">(<span class="number black">15</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/misc">
                                    <i class="icon icon12">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Misc</span>
                                        <span class="counter">(<span class="number black">8</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/ninja-physics">
                                    <i class="icon icon3">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Ninja Physics</span>
                                        <span class="counter">(<span class="number black">5</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/p2-physics">
                                    <i class="icon icon3">&nbsp;</i>
                                    <div class="textbox">
                                        <span>P2 Physics</span>
                                        <span class="counter">(<span class="number black">39</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/particles">
                                    <i class="icon icon4">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Particles</span>
                                        <span class="counter">(<span class="number black">21</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/particlestorm">
                                    <i class="icon icon4">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Particle Storm</span>
                                        <span class="counter">(<span class="number black">36</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/sprites">
                                    <i class="icon icon13">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Sprites</span>
                                        <span class="counter">(<span class="number black">28</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/text">
                                    <i class="icon icon12">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Text</span>
                                        <span class="counter">(<span class="number black">41</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/tile-sprites">
                                    <i class="icon icon11">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Tile Sprites</span>
                                        <span class="counter">(<span class="number black">7</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/tilemaps">
                                    <i class="icon icon13">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Tilemaps</span>
                                        <span class="counter">(<span class="number black">21</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/time">
                                    <i class="icon icon7">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Time</span>
                                        <span class="counter">(<span class="number black">9</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/tweens">
                                    <i class="icon icon3">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Tweens</span>
                                        <span class="counter">(<span class="number black">23</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/video">
                                    <i class="icon icon2">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Video</span>
                                        <span class="counter">(<span class="number black">7</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/virtualjoystick">
                                    <i class="icon icon10">&nbsp;</i>
                                    <div class="textbox">
                                        <span>Virtual Joystick</span>
                                        <span class="counter">(<span class="number black">14</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                                                        <li>
                            
                                <a href="/examples/v2/category/world">
                                    <i class="icon icon8">&nbsp;</i>
                                    <div class="textbox">
                                        <span>World</span>
                                        <span class="counter">(<span class="number black">3</span>)</span>
                                    </div>
                                </a>
                            </li>

                        
                        </ul>
                    </nav>
                    <div class="patreon">
                        <a href="http://phaser.io/shop"><img src="/images/shop/black-friday300.png" width="300" height="400" title="50% Off this week only" /></a><br />
                        </div>
                    

                    
                        <iframe src="https://madmimi.com/signups/163665/iframe" scrolling="no" frameborder="0" height="314" style="max-width: 300px; width: 100%;"></iframe>

                                    </aside>
                                        </div>
                        <div class="col-sm-9">
                            <div id="content">

                            
    <script type="text/javascript">

    IDE_REMOTE = 'http://examples.phaser.io';
    IDE_SRC = 'http://examples.phaser.io/embed.php?f=games/tanks.js';
    IDE_EXAMPLES = 'http://examples.phaser.io/embed.php';
    IDE_NULL = 'http://examples.phaser.io/null.html';
    IDE_DIMENSIONS = "width=800,height=600,scrollbars=no";
    IDE_SAVE_URL = "/examples/v2/save//tanks";
    IDE_SAVE_DATA = { "category": "", "file": "tanks", "phaser": "", "code": "" };

    </script>

    <h2>Tanks</h2>

            <div class="sublime">

    <ul class="generic-buttons">
      <li><a href="http://examples.phaser.io/embed.php?f=games/tanks.js" class="btn"><span class="octicon32 octicon-device-mobile" title="Open Example in Mobile View"></span></a></li>
      <li><a href="#gv" id="ide-run" class="btn"><span class="octicon32 octicon-rocket" title="Run Code (Ctrl+Enter or Cmd+Enter)"></span></a></li>
      <li><a href="#comments" class="btn"><span class="octicon32 octicon-comment-discussion" title="Comment"></span></a></li>
      <li><a href="#gv" id="ide-refresh" class="btn"><span class="octicon32 octicon-sync" title="Reload Example"></span></a></li>
      <li><a href="#download" id="ide-download" class="btn"><span class="octicon32 octicon-cloud-download" title="Download Example"></span></a></li>
      <!-- <li><a href="#gv" id="ide-grab" class="btn"><span class="octicon32 octicon-device-camera" title="Grab Screenshot (Canvas only)"></span></a></li> -->
      <li><a id="ide-expand" class="btn"><span class="octicon32 octicon-mirror" title="Hide side-nav and expand editor"></span></a></li>
      <li><a href="#gv" id="ide-pop" class="btn"><span class="octicon32 octicon-screen-full" title="Toggle Example in new Window"></span></a></li>
    </ul>
    
    <pre id="editor">EnemyTank = function (index, game, player, bullets) {

    var x = game.world.randomX;
    var y = game.world.randomY;

    this.game = game;
    this.health = 3;
    this.player = player;
    this.bullets = bullets;
    this.fireRate = 1000;
    this.nextFire = 0;
    this.alive = true;

    this.shadow = game.add.sprite(x, y, &#039;enemy&#039;, &#039;shadow&#039;);
    this.tank = game.add.sprite(x, y, &#039;enemy&#039;, &#039;tank1&#039;);
    this.turret = game.add.sprite(x, y, &#039;enemy&#039;, &#039;turret&#039;);

    this.shadow.anchor.set(0.5);
    this.tank.anchor.set(0.5);
    this.turret.anchor.set(0.3, 0.5);

    this.tank.name = index.toString();
    game.physics.enable(this.tank, Phaser.Physics.ARCADE);
    this.tank.body.immovable = false;
    this.tank.body.collideWorldBounds = true;
    this.tank.body.bounce.setTo(1, 1);

    this.tank.angle = game.rnd.angle();

    game.physics.arcade.velocityFromRotation(this.tank.rotation, 100, this.tank.body.velocity);

};

EnemyTank.prototype.damage = function() {

    this.health -= 1;

    if (this.health &lt;= 0)
    {
        this.alive = false;

        this.shadow.kill();
        this.tank.kill();
        this.turret.kill();

        return true;
    }

    return false;

}

EnemyTank.prototype.update = function() {

    this.shadow.x = this.tank.x;
    this.shadow.y = this.tank.y;
    this.shadow.rotation = this.tank.rotation;

    this.turret.x = this.tank.x;
    this.turret.y = this.tank.y;
    this.turret.rotation = this.game.physics.arcade.angleBetween(this.tank, this.player);

    if (this.game.physics.arcade.distanceBetween(this.tank, this.player) &lt; 300)
    {
        if (this.game.time.now &gt; this.nextFire &amp;&amp; this.bullets.countDead() &gt; 0)
        {
            this.nextFire = this.game.time.now + this.fireRate;

            var bullet = this.bullets.getFirstDead();

            bullet.reset(this.turret.x, this.turret.y);

            bullet.rotation = this.game.physics.arcade.moveToObject(bullet, this.player, 500);
        }
    }

};

var game = new Phaser.Game(800, 600, Phaser.AUTO, &#039;phaser-example&#039;, { preload: preload, create: create, update: update, render: render });

function preload () {

    game.load.atlas(&#039;tank&#039;, &#039;assets/games/tanks/tanks.png&#039;, &#039;assets/games/tanks/tanks.json&#039;);
    game.load.atlas(&#039;enemy&#039;, &#039;assets/games/tanks/enemy-tanks.png&#039;, &#039;assets/games/tanks/tanks.json&#039;);
    game.load.image(&#039;logo&#039;, &#039;assets/games/tanks/logo.png&#039;);
    game.load.image(&#039;bullet&#039;, &#039;assets/games/tanks/bullet.png&#039;);
    game.load.image(&#039;earth&#039;, &#039;assets/games/tanks/scorched_earth.png&#039;);
    game.load.spritesheet(&#039;kaboom&#039;, &#039;assets/games/tanks/explosion.png&#039;, 64, 64, 23);
    
}

var land;

var shadow;
var tank;
var turret;

var enemies;
var enemyBullets;
var enemiesTotal = 0;
var enemiesAlive = 0;
var explosions;

var logo;

var currentSpeed = 0;
var cursors;

var bullets;
var fireRate = 100;
var nextFire = 0;

function create () {

    //  Resize our game world to be a 2000 x 2000 square
    game.world.setBounds(-1000, -1000, 2000, 2000);

    //  Our tiled scrolling background
    land = game.add.tileSprite(0, 0, 800, 600, &#039;earth&#039;);
    land.fixedToCamera = true;

    //  The base of our tank
    tank = game.add.sprite(0, 0, &#039;tank&#039;, &#039;tank1&#039;);
    tank.anchor.setTo(0.5, 0.5);
    tank.animations.add(&#039;move&#039;, [&#039;tank1&#039;, &#039;tank2&#039;, &#039;tank3&#039;, &#039;tank4&#039;, &#039;tank5&#039;, &#039;tank6&#039;], 20, true);

    //  This will force it to decelerate and limit its speed
    game.physics.enable(tank, Phaser.Physics.ARCADE);
    tank.body.drag.set(0.2);
    tank.body.maxVelocity.setTo(400, 400);
    tank.body.collideWorldBounds = true;

    //  Finally the turret that we place on-top of the tank body
    turret = game.add.sprite(0, 0, &#039;tank&#039;, &#039;turret&#039;);
    turret.anchor.setTo(0.3, 0.5);

    //  The enemies bullet group
    enemyBullets = game.add.group();
    enemyBullets.enableBody = true;
    enemyBullets.physicsBodyType = Phaser.Physics.ARCADE;
    enemyBullets.createMultiple(100, &#039;bullet&#039;);
    
    enemyBullets.setAll(&#039;anchor.x&#039;, 0.5);
    enemyBullets.setAll(&#039;anchor.y&#039;, 0.5);
    enemyBullets.setAll(&#039;outOfBoundsKill&#039;, true);
    enemyBullets.setAll(&#039;checkWorldBounds&#039;, true);

    //  Create some baddies to waste :)
    enemies = [];

    enemiesTotal = 20;
    enemiesAlive = 20;

    for (var i = 0; i &lt; enemiesTotal; i++)
    {
        enemies.push(new EnemyTank(i, game, tank, enemyBullets));
    }

    //  A shadow below our tank
    shadow = game.add.sprite(0, 0, &#039;tank&#039;, &#039;shadow&#039;);
    shadow.anchor.setTo(0.5, 0.5);

    //  Our bullet group
    bullets = game.add.group();
    bullets.enableBody = true;
    bullets.physicsBodyType = Phaser.Physics.ARCADE;
    bullets.createMultiple(30, &#039;bullet&#039;, 0, false);
    bullets.setAll(&#039;anchor.x&#039;, 0.5);
    bullets.setAll(&#039;anchor.y&#039;, 0.5);
    bullets.setAll(&#039;outOfBoundsKill&#039;, true);
    bullets.setAll(&#039;checkWorldBounds&#039;, true);

    //  Explosion pool
    explosions = game.add.group();

    for (var i = 0; i &lt; 10; i++)
    {
        var explosionAnimation = explosions.create(0, 0, &#039;kaboom&#039;, [0], false);
        explosionAnimation.anchor.setTo(0.5, 0.5);
        explosionAnimation.animations.add(&#039;kaboom&#039;);
    }

    tank.bringToTop();
    turret.bringToTop();

    logo = game.add.sprite(0, 200, &#039;logo&#039;);
    logo.fixedToCamera = true;

    game.input.onDown.add(removeLogo, this);

    game.camera.follow(tank);
    game.camera.deadzone = new Phaser.Rectangle(150, 150, 500, 300);
    game.camera.focusOnXY(0, 0);

    cursors = game.input.keyboard.createCursorKeys();

}

function removeLogo () {

    game.input.onDown.remove(removeLogo, this);
    logo.kill();

}

function update () {

    game.physics.arcade.overlap(enemyBullets, tank, bulletHitPlayer, null, this);

    enemiesAlive = 0;

    for (var i = 0; i &lt; enemies.length; i++)
    {
        if (enemies[i].alive)
        {
            enemiesAlive++;
            game.physics.arcade.collide(tank, enemies[i].tank);
            game.physics.arcade.overlap(bullets, enemies[i].tank, bulletHitEnemy, null, this);
            enemies[i].update();
        }
    }

    if (cursors.left.isDown)
    {
        tank.angle -= 4;
    }
    else if (cursors.right.isDown)
    {
        tank.angle += 4;
    }

    if (cursors.up.isDown)
    {
        //  The speed we&#039;ll travel at
        currentSpeed = 300;
    }
    else
    {
        if (currentSpeed &gt; 0)
        {
            currentSpeed -= 4;
        }
    }

    if (currentSpeed &gt; 0)
    {
        game.physics.arcade.velocityFromRotation(tank.rotation, currentSpeed, tank.body.velocity);
    }

    land.tilePosition.x = -game.camera.x;
    land.tilePosition.y = -game.camera.y;

    //  Position all the parts and align rotations
    shadow.x = tank.x;
    shadow.y = tank.y;
    shadow.rotation = tank.rotation;

    turret.x = tank.x;
    turret.y = tank.y;

    turret.rotation = game.physics.arcade.angleToPointer(turret);

    if (game.input.activePointer.isDown)
    {
        //  Boom!
        fire();
    }

}

function bulletHitPlayer (tank, bullet) {

    bullet.kill();

}

function bulletHitEnemy (tank, bullet) {

    bullet.kill();

    var destroyed = enemies[tank.name].damage();

    if (destroyed)
    {
        var explosionAnimation = explosions.getFirstExists(false);
        explosionAnimation.reset(tank.x, tank.y);
        explosionAnimation.play(&#039;kaboom&#039;, 30, false, true);
    }

}

function fire () {

    if (game.time.now &gt; nextFire &amp;&amp; bullets.countDead() &gt; 0)
    {
        nextFire = game.time.now + fireRate;

        var bullet = bullets.getFirstExists(false);

        bullet.reset(turret.x, turret.y);

        bullet.rotation = game.physics.arcade.moveToPointer(bullet, 1000, game.input.activePointer, 500);
    }

}

function render () {

    // game.debug.text(&#039;Active Bullets: &#039; + bullets.countLiving() + &#039; / &#039; + bullets.length, 32, 32);
    game.debug.text(&#039;Enemies: &#039; + enemiesAlive + &#039; / &#039; + enemiesTotal, 32, 32);

}</pre>

    </div>

    <div class="ide-settings">

        <label>Phaser Version:</label>
        <select id="ide-phaser-version">
        <option value="2.4.4">2.4.4 - Amador</option>
<option value="2.4.3">2.4.3 - Coramen</option>
<option value="2.4.2">2.4.2 - Altara</option>
<option value="2.4.1">2.4.1 - Ionin Spring</option>
<option value="2.4.0">2.4.0 - Katar</option>
<option value="2.3.0">2.3.0 - Tarabon</option>
<option value="2.2.2">2.2.2 - Alkindar</option>
<option value="2.2.1">2.2.1 - Danabar</option>
<option value="2.2.0">2.2.0 - Bethal</option>
<option value="2.1.3">2.1.3 - Ravinda</option>
<option value="2.1.2">2.1.2 - Whitebridge</option>
<option value="2.1.1">2.1.1 - Eianrod</option>
<option value="2.1.0">2.1.0 - Cairhien</option>
<option value="2.0.7">2.0.7 - Amadicia</option>
<option value="2.0.6">2.0.6 - Jornhill</option>
<option value="2.0.5">2.0.5 - Tanchico</option>
<option value="2.0.4">2.0.4 - Mos Shirare</option>
<option value="2.0.3">2.0.3 - Allorallen</option>
<option value="2.0.2">2.0.2 - Ghealdan</option>
<option value="2.0.1">2.0.1 - Lyrelle</option>
<option value="2.0.0">2.0.0 - Aes Sedai</option>
<option value="1.1.6">1.1.6 - Shienar</option>
<option value="1.1.5">1.1.5 - Saldaea</option>
<option value="1.1.4">1.1.4 - Kandor</option>

        </select>

        <label>Theme:</label>
        <select id="ide-theme">
            <option value="ambiance">Ambiance</option>
            <!-- <option value="amos">AMOS</option> -->
            <option value="chaos">Chaos</option>
            <option value="chrome">Chrome</option>
            <option value="cloud9_day">Cloud9 Day</option>
            <option value="cloud9_night">Cloud9 Night</option>
            <option value="cloud9_night_low_color">Cloud9 Night Low Color</option>
            <option value="clouds">Clouds</option>
            <option value="clouds_midnight">Clouds Midnight</option>
            <option value="cobalt">Cobalt</option>
            <option value="crimson_editor">Crimson Editor</option>
            <option value="dawn">Dawn</option>
            <option value="dreamweaver">Dreamweaver</option>
            <option value="eclipse">Eclipse</option>
            <option value="github">Github</option>
            <option value="idle_fingers">Idle Fingers</option>
            <option value="katzenmilch">Katzenmilch</option>
            <option value="kr">KR</option>
            <option value="kuroir">Kuroir</option>
            <option value="merbivore">Merbivore</option>
            <option value="merbivore_soft">Merbivore Soft</option>
            <option value="mono_industrial">Mono Industrial</option>
            <option value="monokai" selected="selected">Monokai</option>
            <option value="pastel_on_dark">Pastel on Dark</option>
            <option value="solarized_dark">Solarized Dark</option>
            <option value="solarized_light">Solarized Light</option>
            <option value="terminal">Terminal</option>
            <option value="textmate">Textmate</option>
            <option value="tomorrow">Tomorrow</option>
            <option value="tomorrow_night">Tomorrow Night</option>
            <option value="tomorrow_night_blue">Tomorrow Night Blue</option>
            <option value="tomorrow_night_bright">Tomorrow Night Bright</option>
            <option value="tomorrow_night_eighties">Tomorrow Night Eighties</option>
            <option value="twilight">Twilight</option>
            <option value="vibrant_ink">Vibrant Ink</option>
            <option value="xcode">XCode</option>
        </select>
        <label>Font Size:</label>
        <a id="ide-font-inc" class="btn"><span class="octicon octicon-plus"></span></a>
        <a id="ide-font-dec" class="btn"><span class="octicon octicon-dash"></span></a>

    </div>

    <a name="download"></a>

    <h2>Download</h2>

    <p>All of the source code and assets for <em>every</em> Phaser example (including the one above) can be downloaded 
    from the <a href="https://github.com/photonstorm/phaser-examples">Phaser Examples Github repository</a>.</p>

    <ul class="generic-buttons">
        <li><a href="https://github.com/photonstorm/phaser-examples" class="btn width100"><span class="octicon48 octicon-repo-clone"></span><p>clone</p></a></li>
        <li><a href="https://github.com/photonstorm/phaser-examples/archive/master.zip" class="btn width100"><span class="octicon48 octicon-file-zip"></span><p>zip</p></a></li>
        <li><a href="https://github.com/photonstorm/phaser-examples/archive/master.tar.gz" class="btn width100"><span class="octicon48 octicon-file-zip"></span><p>tar.gz</p></a></li>
    </ul>

    <p>With literally hundreds of pieces of source code this is an invaluable resource to have available locally.</p>

    <h2>Online Code Editor</h2>

    <p>The <a href="/sandbox">Phaser Sandbox</a> allows you to code games in your browser without having to download or install anything.</p>

    <p>The powerful editor features Phaser code assists, JavaScript snippets and lots of the features you've come to love in editors like Sublime and Brackets.</p>

    <script>
        $(window).load(function() {
            initEditorContent = editor.getValue();
        });
    </script>


                                                            <div class="hr"><div class="arw"></div></div>

                    <a name="comments"></a>

                    <h3>Comments</h3>

                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_shortname = 'phaserjs';
                        (function() {
                            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                            
                            </div>
                        </div>
                    </div>
                </div>

                <footer id="footer">
                    <div class="holder">
                        <img src="http://phaser.io/images/img10.png" alt="rocketman" class="img-rocket">
                        <div class="footer-info">
                            <div class="site-rights">
                                <strong class="logo"><a href="http://www.photonstorm.com">Photon Storm HTML5 Game Developers</a></strong>
                                <span class="copyright">&copy; 2015 Photon Storm Ltd.</span>
                                <p>All rights reserved.</p>
                            </div>
                            <div class="footer-links">
                                <p><a href="/download/stable">Get Phaser 2.4.4</a><br />
                                <a href="/docs">API Docs</a><br />
                                <a href="/shop/game-development">HTML5 Game Dev</a></p>
                            </div>
                        </div>
                        <ul class="social-links">
                            <li><a href="http://www.html5gamedevs.com/forum/14-phaser/">Phaser Forums</a></li>
                            <li class="twitter"><a href="https://twitter.com/photonstorm">@photonstorm</a></li>
                            <li class="github"><a href="https://github.com/photonstorm/phaser">Phaser on Github</a></li>
                        </ul>
                    </div>
                </footer>

        <!-- container -->
        </div>

    <!-- wrapper -->
    </div>

    </body>
</html>